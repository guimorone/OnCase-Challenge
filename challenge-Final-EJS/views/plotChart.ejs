<script type="text/javascript" id="plotChart">
    // Coletando as informações do backend
    const informations = <%- JSON.stringify(informations); %>
    const initialNames = Array.from(informations, x => x.fname + ' ' + x.lname);
    const initialValues = Array.from(informations, x => x.participation);

    const backgroundColors = [
        '#2D97DE',
        '#15BA9A',
        '#9C56B9',
        '#BDC3C7',
        '#E94A35',
        '#000000',
        '#41220A',
        '#DA588C',
        '#EBCC0D',
        '#9F0508',
        '#005900',
        '#7BE60F',
        '#009ECB'
    ];

    const data = {
        labels: initialNames, // nomes
        datasets: [{
            label: 'Participation',
            data: initialValues, // participação
            backgroundColor: backgroundColors,
            hoverOffset: 10 // Acentuação no hover de alguma parte do gráfico
        }]
    };

    const config = {
        type: 'doughnut', // tipo de gráfico
        data: data, // dados inseridos
        options: {
            layout: { // alteração de design do gráfico
                padding: {
                    bottom: 200,
                    left: 50
                }
            },
            plugins: {
                legend: { // alteração de design dos nomes
                    position: 'right', // posicionar os labels na direita
                    labels: {
                        font: {
                            size: 20
                        }
                    }
                },
                title: {
                    display: true,
                    text: 'Gráfico de participação',
                    font: {
                        size: 30
                    }
                }
            },
        }
    };

    // Plot
    const myChart = new Chart(
        document.getElementById('chart'),
        config
    );
</script>